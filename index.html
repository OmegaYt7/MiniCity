<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-eval' 'unsafe-inline' https://telegram.org https://cdn.tailwindcss.com;">

    <title>Mini City Builder</title>
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üèóÔ∏è</text></svg>">
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      /* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
      body, html {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden; /* –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª */
        background-color: #0f172a; /* Slate 900 - –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ */
        user-select: none; /* –ó–∞–ø—Ä–µ—â–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ */
        -webkit-user-select: none;
        -webkit-tap-highlight-color: transparent; /* –£–±–∏—Ä–∞–µ–º —Å–∏–Ω—é—é –ø–æ–¥—Å–≤–µ—Ç–∫—É –ø—Ä–∏ –∫–ª–∏–∫–µ */
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        color: #e2e8f0;
        touch-action: none; /* –í–ê–ñ–ù–û: –ì–æ–≤–æ—Ä–∏–º –±—Ä–∞—É–∑–µ—Ä—É, —á—Ç–æ —Å–∞–º–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∂–µ—Å—Ç—ã */
      }
      
      /* –°–∫—Ä—ã–≤–∞–µ–º —Å–∫—Ä–æ–ª–ª–±–∞—Ä—ã */
      ::-webkit-scrollbar { display: none; }
      
      /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
      @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-5px); }
      }
      .animate-float { animation: float 3s ease-in-out infinite; }
      
      #root { width: 100%; height: 100%; }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script>
      if (window.Telegram && window.Telegram.WebApp) {
        window.Telegram.WebApp.ready();
        window.Telegram.WebApp.expand(); // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
        window.Telegram.WebApp.setHeaderColor('#0f172a'); // –¶–≤–µ—Ç —à–∞–ø–∫–∏ –∫–∞–∫ —Ñ–æ–Ω
        window.Telegram.WebApp.enableClosingConfirmation(); // –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è
      }
    </script>

    <script>
      // –ó–∞–ø—Ä–µ—â–∞–µ–º iOS –∑—É–º–∏—Ç—å –≤—Å—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∂–µ—Å—Ç–æ–º
      document.addEventListener('gesturestart', function (e) {
        e.preventDefault();
      });

      // –ó–∞–ø—Ä–µ—â–∞–µ–º "—Ä–µ–∑–∏–Ω–æ–≤—ã–π" —ç—Ñ—Ñ–µ–∫—Ç –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–π –∑—É–º
      document.addEventListener('touchmove', function (e) {
        if (e.scale && e.scale !== 1) {
          e.preventDefault(); 
        }
      }, { passive: false });

      // –ó–∞–ø—Ä–µ—â–∞–µ–º –∑—É–º –¥–≤–æ–π–Ω—ã–º —Ç–∞–ø–æ–º
      let lastTouchEnd = 0;
      document.addEventListener('touchend', function (event) {
        const now = (new Date()).getTime();
        if (now - lastTouchEnd <= 300) {
          event.preventDefault();
        }
        lastTouchEnd = now;
      }, false);
    </script>

    <script type="module" src="/index.tsx"></script>
  </body>
</html>
